#---------------------------------------------------------------------------
# Compiler options
#---------------------------------------------------------------------------
CXX            = g++
CC             = gcc
ISISCPPFLAGS   = -Wall
ISISCPPFLAGS  += -ansi
ISISCPPFLAGS  += -DISIS_LITTLE_ENDIAN=0
ISISCPPFLAGS  += -fPIC 
ISISCPPFLAGS  += -m64
ISISCPPFLAGS  += -D_XOPEN_SOURCE=500 -D__EXTENSIONS__
ISISCPPFLAGS  += -D_LP64 -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE
#ISISCPPFLAGS  += -M

ifeq ($(findstring DEBUG, $(MODE)),DEBUG)
  ISISCPPFLAGS += -g 
  ISISCPPFLAGS += -O0
else
  ISISCPPFLAGS += -O1
endif

ISISCFLAGS = -m64

#---------------------------------------------------------------------------
# Linker options
#---------------------------------------------------------------------------
RANLIB          = /bin/true
SHAREDLIBEXT    = so

ISISLDFLAGS = 
ISISLDFLAGS = -Wl -m64
ISISSYSLIBS = -lsocket -ldl
ISISSTATIC  = -Wl,-Bstatic
ISISDYNAMIC = -Wl,-Bdynamic

#---------------------------------------------------------------------------
# Shared library options
#---------------------------------------------------------------------------
ISISSHAREDFLAGS = $(ISISLDFLAGS) -shared 
ISISSHAREDON    = -Xlinker -z -Xlinker allextract
ISISSHAREDOFF   = -Xlinker -z -Xlinker defaultextract
ISISARFLAGS     = -c

#---------------------------------------------------------------------------
# Set up local library designations
#---------------------------------------------------------------------------
ISIS3OPT       ?= /opt/local
ISIS3LOCAL     ?= /usgs/pkgs/local/isis$(ISISVERSION)

#---------------------------------------------------------------------------
# Set up for cwd
#---------------------------------------------------------------------------
CWDINCDIR =
CWDLIBDIR =
CWDLIB    =

#---------------------------------------------------------------------------
# Set up for Qwt
#---------------------------------------------------------------------------
QWTINCDIR = -I$(ISIS3LOCAL)/include/qwt
QWTLIBDIR = -L$(ISIS3LOCAL)/lib
QWTLIB    = -lqwt 

#---------------------------------------------------------------------------
# Set up for Qt
#---------------------------------------------------------------------------
QTINCDIR = -I$(ISIS3LOCAL)/include/Qt
QTLIBDIR = -L$(ISIS3LOCAL)/lib
QTLIB    = -lQtXmlPatterns -lQtXml -lQtNetwork -lQtSql -lQtGui -lQtCore

UIC      = $(ISIS3LOCAL)/bin/uic
MOC      = $(ISIS3LOCAL)/bin/moc

#---------------------------------------------------------------------------
# Set up for Xerces 
#---------------------------------------------------------------------------
XERCESINCDIR = -I$(ISIS3LOCAL)/include
XERCESLIBDIR = -L$(ISIS3LOCAL)/lib
XERCESLIB    = -lxerces-c

XALAN        = $(ISIS3LOCAL)/bin/Xalan

#---------------------------------------------------------------------------
# Set up for naif
#---------------------------------------------------------------------------
NAIFINCDIR = -I$(ISIS3LOCAL)/include/naif
NAIFLIBDIR = -L$(ISIS3LOCAL)/lib
NAIFLIB    = -lcspice

#---------------------------------------------------------------------------
# Set up for TNT
#---------------------------------------------------------------------------
TNTINCDIR = -I$(ISIS3LOCAL)/include/tnt 
TNTLIBDIR =
TNTLIB    = 

#---------------------------------------------------------------------------
# Set up for JAMA
#---------------------------------------------------------------------------
JAMAINCDIR = -I$(ISIS3LOCAL)/include/jama
JAMALIBDIR =
JAMALIB    = 
#---------------------------------------------------------------------------
# Set up for GEOS
#---------------------------------------------------------------------------
GEOSINCDIR = -I$(ISIS3LOCAL)/include/geos/geos3.0.0
GEOSLIBDIR = -L$(ISIS3LOCAL)/lib
GEOSLIB    = -lgeos-3.0.0

#---------------------------------------------------------------------------
# Set up for the GNU Scientific Library (GSL).  Note that this setup
# suppports include patterns such as <gsl/gsl_errno.h>.  With this
# format, any other include spec that points to the general include
# directory, such as GEOS, will suffice.  Therefore, an explicit
# include directive is ommitted but provided as an empty reference
# in cases where it may be located elsewhere.  This also goes for the
# library reference.
#---------------------------------------------------------------------------
GSLINCDIR = 
GSLLIBDIR = 
GSLLIB    = -lgsl -lgslcblas

#---------------------------------------------------------------------------
#  Define the third party distribution libraries (patterns)
#---------------------------------------------------------------------------

#  Libraries
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtXmlPatterns.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtXml.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtNetwork.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtSql.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtGui.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libQtCore.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libqwt.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libxerces-c.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libgeos-*.so"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libgeos_c.so*"
THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libcspice.so*"
THIRDPARTYLIBS    += "/usr/local/lib/sparcv9/libstdc++.so*"
THIRDPARTYLIBS    += "/usr/local/lib/sparcv9/libgcc_s.so*"

#THIRDPARTYLIBS    += "$(ISIS3LOCAL)/lib/libgsl*.so*"

#  Plugins
THIRDPARTYPLUGINS +=  "$(ISIS3LOCAL)/plugins/"
