<?xml version="1.0" encoding="UTF-8"?>

<application name="csspck2spk" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">
  <brief>
    Matches CASSINI SPK and PCK SPICE files
  </brief>

  <description>
    The CASSINI mission requires that specific PCK SPICE files be matched to
    each SPK SPICE file.  This program will do the matching. 

    The reference table used for the matching is generated by JPL, generally on a monthly
    basis, and is located at https://cassini.jpl.nasa.gov/io/spice/pcktospk_mapping.htm.
    Each time this table is updated, it should be downloaded and converted from html
    to a text table (using your favorite converter, maybe lynx), and then named
    pck2spk_????.map.  The "Last Updated..." line and title header should be saved
    and commented out with the "#" character, and each PCK/SPK pair should occupy
    one line with a comma delimeter.  Do not leave blank lines.  When you are done, mv
    the file to the $ISIS3DATA/cassini/kernels/pck directory.  The file should look
    something like this:

    <PRE>
            # Last Updated: 27-August-2006
            # PCK to SPK File Compatibility Table
            #
            cpck11Aug2006.tpc,060810R_SCPSE_06162_06193
            cpck20Jul2006.tpc,060719R_SCPSE_06130_06162
            cpck14Jun2006.tpc,060614R_SCPSE_06099_06130
    </PRE>

    Next, update the SPK directory with new position files, and the PCK
    directory with the new ehemeris files.  Then run makedb to generate a
    db file located in the SPK directory and a db file located in the PCK directory.
  </description>

  <history>
    <change name="Jac Shinaman" date="2006-10-24">
      Original version
    </change>
    <change name="Jac Shinaman" date="2006-10-26">
      Fixed typo in .xml that caused gui to fail; added the program to the System category.
    </change>
    <change name="Steve Koechle and Steven Lambright" date="2007-07-09">
      Added "TO" parameter.  Added default to "FROM" parameter.
    </change>
    <change name="Steven Lambright" date="2007-07-10">
      Bug fix:  the output kernel DB file lacked the base PCK that was necessary. 
    </change>
    <change name="Steven Koechle" date="2007-07-10">
      Bug fix:  flipped the order that the TargetAttitudeShape kernels were furnished.
    </change>
    <change name="Christopher Austin" date="2009-12-04">
      Added an error when an spk file does not exist inside the latest mapping file.
    </change>
  </history>

  <category>
    <categoryItem>System</categoryItem>
  </category>

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>filename</type>
        <fileMode>input</fileMode>
        <brief>
          Input SPK kernel.xxxx.db file
        </brief>
        <description>
          The SPK PVL group db file used to generate the new db
          file. Defaulted to use $ISIS3DATA/cassini/kernels/spk/kernels.????.db
        </description>
        <internalDefault>
          Automatic
        </internalDefault>
        <filter>
          *.db
        </filter>
      </parameter>

      <parameter name="TO">
        <type>filename</type>
        <fileMode>output</fileMode>
        <brief>
          Output PCK kernel.xxxx.db file
        </brief>
        <description>
          The new db file that is the matching PCK file.
          Defaulted to use $ISIS3DATA/cassini/kernels/pck/kernels.????.db
        </description>
        <internalDefault>
          Automatic
        </internalDefault>
        <filter>
          *.db
        </filter>
      </parameter>
    </group>
  </groups>
</application>
