<?xml version="1.0" encoding="UTF-8"?>

<application name="dawnfc2isis" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">

  <brief>Import PDS formatted DAWN FC EDR or RDR image cube into Isis format cube</brief>

  <description>
    This program will import a PDS formatted DAWN Framing Camera (FC) level 1 (EDR) or 
    level 2 (RDR) image into an Isis cube. A DAWN RDR file contains a single image
    object and will be written to the file specified by the TO parameter. The DAWN
    EDR file can contain multiple image objects. Until we have further information
    about the frame image objects in the EDR, this program is going to ignore them and
    only process the main image object. The main EDR image object will be written to 
    the file specified by the TO parameter.
  </description>

  <history>
    <change name="Janet Barrett" date="2010-03-10">
      Original version
    </change>
    <change name="Janet Barrett" date="2010-04-15">
      The program now automatically flips the image in the line direction.
    </change>
    <change name="Sharmila Prasad" date="2011-01-21">
      Changed the category
    </change>
    <change name="Kris Becker" date="2011-03-14">
        Removed tests on HorizontalPixelScale and VerticalPixelScale; Added 
        optional TARGET parameter to allow TargetName specification.
    </change>
    <change name="Jeff Anderson" date="2011-07-26">
    	Changed the program to write the NaifFrameCode in the labels to include
    	the filter number.  This was done because the Dawn FC team provided a new
    	instrument kernel (IK) with band dependent focal lengths and optical
    	distortion parameters. The camera model then uses this update label 
    	keyword to read the correct camera parameters.
    </change>
  </history>

  <category>
    <missionItem>Dawn</missionItem>
  </category>

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>filename</type>
        <fileMode>input</fileMode>
        <brief>
          Input PDS formatted DAWN EDR or RDR file
        </brief>
        <description>
          Use this parameter to select the DAWN EDR or RDR
	  filename. This file must contain the PDS labels.
        </description>
        <filter>
          *.img *.IMG
        </filter>
      </parameter>

      <parameter name="TO">
         <type>cube</type>
         <fileMode>output</fileMode>
         <brief>
           Output Isis cube
         </brief>
         <description>
           Use this parameter to select the output filename
         </description>
         <filter>
           *.cub
         </filter>
       </parameter>
    </group>

    <group name="Parameters">
        <parameter name="TARGET">
            <type>string</type>
            <brief>Provide target name if it needs to be changed</brief>
            <description>
                This parameter may be necessary as some EDR labels do not adequately defined
                the TARGET_NAME keyword in the labels.  DAWN has a long cruise 
                period before ariving at Vesta in August 2011.  During cruise, 
                a Mars flyby and stellar observatoins will occur.  The proper 
                specification of the TARGET_NAME is critical to valid 
                instantiation of ISIS camera models. 

                 There are many star observations being made and in order to 
                 properly instantiate the ISIS camera model, the target must be 
                 a recognized NAIF body or "Sky".  NAIF bodies provide the means 
                 to map image coordinates to latitude/longitude values.  "Sky" 
                 is a special instantiation within ISIS that provides the 
                 ability to map image coordinates to RA/DEC coordinates.
                
                The default is to honor the value in the  EDR label.  For some 
                observed targets, "Sky" would be required in order to properly 
                instantiate the camera model.
            </description>
            <internalDefault>Label Value</internalDefault> 
        </parameter>
    </group>

  </groups>
</application>
