<?xml version="1.0" encoding="UTF-8"?>
<application name="dawnvir2isis" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">

  <brief>Import PDS formatted DAWN VIR EDR or RDR image cube into Isis format cube</brief>

  <description>
    This program will import a PDS formatted DAWN Visual and InfraRed Mapping
    Spectrometer (VIR) level 1a (EDR) or level 1b (RDR) image into an ISIS cube.  
    It supports ingestion of detached PDS labels.  The file containing the label 
    needs to be provided in the FROM parameter.  If it is not the actual image 
    data, it will search for a file with the same base name and suffix with 
    .QUB. 
  </description>

  <history>
    <change name="Janet Barrett" date="2010-03-31">
      Original version
    </change>
    <change name="Janet Barrett" date="2010-11-15">
      Added capability to read detached labels
    </change>
      <change name="Kris Becker" date="2011-03-09">
          Updated documentation
      </change>
     <change name="Kris Becker" date="2011-03-14">
          Removed HorixontalPixelScale and VerticalPixelScale compliancy test; 
          Added optional TARGET parameter to allow TargetName specification 
     </change>
  </history>

  <category>
    <categoryItem>Import and Export</categoryItem>
  </category>

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>filename</type>
        <fileMode>input</fileMode>
        <brief>
          Input PDS formatted DAWN VIR EDR or RDR file
        </brief>
        <description>
          Use this parameter to select the DAWN VIR EDR or RDR filename. This 
          file must contain the PDS labels. However, the image data can be 
          detached and will automatically be obtained from the PDS image pointer 
          keyword. If the pointer is incorrect, then use the IMAGE parameter to 
          specify the file containing the binary image data.
        </description>
        <filter>
          *.qub *.QUB *.lbl *.LBL *.img
        </filter>
      </parameter>

      <parameter name="IMAGE">
        <type>filename</type>
        <fileMode>input</fileMode>
        <brief>
          Detached data file
        </brief>
        <description>
          Use this parameter if the pointer to the image data in the
          detached label (FROM) is incorrect.
        </description>
        <internalDefault>
          Cube data embedded with label or file pointer in label file.
        </internalDefault>
        <filter>
          *.img *.qub *.QUB
        </filter>
      </parameter>

      <parameter name="TO">
         <type>cube</type>
         <fileMode>output</fileMode>
         <brief>
           Output Isis cube
         </brief>
         <description>
           Use this parameter to select the output filename of the ISIS cube 
           generated by this application.
         </description>
         <filter>
           *.cub
         </filter>
       </parameter>

    </group>
    <group name="Parameters">
        <parameter name="TARGET">
            <type>string</type>
            <brief>Provide target name if it needs to be changed</brief>
            <description>
                This parameter may be necessary as some EDR labels do not adequately defined
                the TARGET_NAME keyword in the labels.  DAWN has a long cruise 
                period before ariving at Vesta in August 2011.  During cruise, 
                a Mars flyby and stellar observatoins will occur.  The proper 
                specification of the TARGET_NAME is critical to valid 
                instantiation of ISIS camera models. 

                 There are many star observations being made and in order to 
                 properly instantiate the ISIS camera model, the target must be 
                 a recognized NAIF body or "Sky".  NAIF bodies provide the means 
                 to map image coordinates to latitude/longitude values.  "Sky" 
                 is a special instantiation within ISIS that provides the 
                 ability to map image coordinates to RA/DEC coordinates.
                
                The default is to honor the value in the  EDR label.  For some 
                observed targets, "Sky" would be required in order to properly 
                instantiate the camera model.
            </description>
            <internalDefault>Label Value</internalDefault> 
        </parameter>
    </group>
  </groups>
</application>
